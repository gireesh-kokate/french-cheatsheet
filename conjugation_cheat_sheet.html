<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>French Conjugation - Fixed Headers</title>
    <style>
        :root {
            --danger-bg: #fff59d; 
            --silent-red: #d93025; 
            --header-color: #2c3e50;
            --border-color: #dee2e6;
        }
        body { font-family: 'Segoe UI', sans-serif; line-height: 1.4; color: #333; margin: 0; padding: 15px; background-color: #f4f7f6; }
        .page { background: white; max-width: 1100px; margin: 0 auto; padding: 25px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        
        h1 { text-align: center; color: var(--header-color); border-bottom: 2px solid var(--header-color); padding-bottom: 10px; }
        h2 { color: #1a73e8; border-left: 5px solid #1a73e8; padding-left: 10px; margin: 30px 0 15px 0; }

        /* SCROLLABLE WRAPPER */
        .table-wrap { 
            max-height: 550px; 
            overflow-y: auto; 
            border: 1px solid var(--border-color); 
            border-radius: 4px; 
            margin-bottom: 30px; 
            position: relative; /* Essential for sticky positioning */
        }

        table { width: 100%; border-collapse: separate; border-spacing: 0; background: white; }
        
        /* FIXED HEADERS LOGIC */
        thead th { 
            position: sticky; 
            top: 0; 
            z-index: 10; 
            background-color: var(--header-color); 
            color: white; 
            padding: 15px 10px;
            border: 1px solid #444;
            text-align: center;
        }

        th, td { border: 1px solid var(--border-color); padding: 12px 10px; font-size: 14px; cursor: pointer; }
        td { text-align: center; }
        .text-left { text-align: left !important; }
        
        tbody tr:hover { background-color: #f9f9f9 !important; }
        
        /* COLOR CODING */
        .silent { color: var(--silent-red); font-weight: bold; }
        .highlight { background-color: var(--danger-bg); font-weight: bold; padding: 2px 4px; border-radius: 3px; }
        .irregular-red { color: var(--silent-red); font-weight: bold; }
        .aux-label { font-weight: bold; color: #188038; }

        .group-divider { background-color: #f8f9fa; font-weight: bold; text-align: left !important; padding: 10px 15px; border-top: 3px solid var(--header-color); }
        
        .legend { display: flex; justify-content: center; gap: 20px; background: #fff; padding: 12px; border: 1px solid #ddd; margin-bottom: 20px; border-radius: 5px; font-size: 0.9rem; }
        
        @media print {
            .table-wrap { max-height: none; overflow: visible; }
            thead th { position: static; background: #eee !important; color: black; }
            .page { box-shadow: none; width: 100%; }
        }
    </style>
</head>
<body>

<div class="page">
    <h1>French Conjugation Cheat Sheet</h1>
    
    <div class="legend">
        <div><span style="color: var(--silent-red)">Red</span> = Silent or Irregular Participle</div>
        <div><span style="background: var(--danger-bg)">Yellow</span> = Stem Change / Danger Zone</div>
        <div>üîä <i>Click any cell to listen</i></div>
    </div>

    <h2>Pr√©sent de l'Indicatif</h2>
    <div class="table-wrap">
        <table>
            <thead>
                <tr>
                    <th>Verbe</th><th>je / j'</th><th>tu</th><th>il / elle</th><th>nous</th><th>vous</th><th>ils / elles</th>
                </tr>
            </thead>
            <tbody>
                <tr><td class="text-left">√™tre</td><td>suis</td><td><span class="highlight">e<span class="silent">s</span></span></td><td><span class="highlight">e<span class="silent">st</span></span></td><td>sommes</td><td>√™tes</td><td><span class="highlight">son<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">avoir</td><td><span class="highlight">ai</span></td><td><span class="highlight">a<span class="silent">s</span></span></td><td><span class="highlight">a</span></td><td>avons</td><td>avez</td><td><span class="highlight">on<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">aller</td><td><span class="highlight">vai<span class="silent">s</span></span></td><td><span class="highlight">va<span class="silent">s</span></span></td><td><span class="highlight">va</span></td><td>allons</td><td>allez</td><td><span class="highlight">von<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">faire</td><td>fai<span class="silent">s</span></td><td>fai<span class="silent">s</span></td><td>fai<span class="silent">t</span></td><td>faisons</td><td><span class="highlight">faites</span></td><td><span class="highlight">fon<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">dire</td><td>di<span class="silent">s</span></td><td>di<span class="silent">s</span></td><td>di<span class="silent">t</span></td><td>disons</td><td><span class="highlight">dites</span></td><td>disen<span class="silent">t</span></td></tr>
                <tr><td class="text-left">pouvoir</td><td><span class="highlight">peu<span class="silent">x</span></span></td><td><span class="highlight">peu<span class="silent">x</span></span></td><td><span class="highlight">peu<span class="silent">t</span></span></td><td>pouvons</td><td>pouvez</td><td><span class="highlight">peuven<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">vouloir</td><td><span class="highlight">veu<span class="silent">x</span></span></td><td><span class="highlight">veu<span class="silent">x</span></span></td><td><span class="highlight">veu<span class="silent">t</span></span></td><td>voulons</td><td>voulez</td><td><span class="highlight">veulen<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">devoir</td><td><span class="highlight">doi<span class="silent">s</span></span></td><td><span class="highlight">doi<span class="silent">s</span></span></td><td><span class="highlight">doi<span class="silent">t</span></span></td><td>devons</td><td>devez</td><td><span class="highlight">doiven<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">prendre</td><td>pren<span class="silent">ds</span></td><td>pren<span class="silent">ds</span></td><td>pren<span class="silent">d</span></td><td>prenons</td><td>prenez</td><td><span class="highlight">prennen<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">venir</td><td><span class="highlight">vien<span class="silent">s</span></span></td><td><span class="highlight">vien<span class="silent">s</span></span></td><td><span class="highlight">vien<span class="silent">t</span></span></td><td>venons</td><td>venez</td><td><span class="highlight">viennent</span></td></tr>
                <tr><td class="text-left">mettre</td><td>met<span class="silent">s</span></td><td>met<span class="silent">s</span></td><td>met</td><td>mettons</td><td>mettez</td><td>metten<span class="silent">t</span></td></tr>
                <tr><td class="text-left">voir</td><td>voi<span class="silent">s</span></td><td>voi<span class="silent">s</span></td><td>voi<span class="silent">t</span></td><td>voyons</td><td>voyez</td><td><span class="highlight">voien<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">savoir</td><td>sai<span class="silent">s</span></td><td>sai<span class="silent">s</span></td><td>sai<span class="silent">t</span></td><td>savons</td><td>savez</td><td>saven<span class="silent">t</span></td></tr>
                <tr><td class="text-left">croire</td><td>croi<span class="silent">s</span></td><td>croi<span class="silent">s</span></td><td>croi<span class="silent">t</span></td><td>croyons</td><td>croyez</td><td><span class="highlight">croien<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">donner</td><td>donn<span class="silent">e</span></td><td>donn<span class="silent">es</span></td><td>donn<span class="silent">e</span></td><td>donnons</td><td>donnez</td><td>donn<span class="silent">ent</span></td></tr>
            </tbody>
        </table>
    </div>

    <h2>Pass√© Compos√© (Subject + Aux + Participle)</h2>
    <div class="table-wrap">
        <table>
            <thead>
                <tr>
                    <th>Infinitif</th>
                    <th>Auxiliaire</th>
                    <th>Participe Pass√©</th>
                    <th>Example Sentence</th>
                </tr>
            </thead>
            <tbody>
                <tr><td colspan="4" class="group-divider">AUXILIAIRE: √äTRE (Agreement Required: +e, +s)</td></tr>
                <tr><td class="text-left">aller</td><td class="aux-label">√™tre</td><td>all√©(e)(s)</td><td class="text-left">Je suis all√© au cin√©.</td></tr>
                <tr><td class="text-left">venir</td><td class="aux-label">√™tre</td><td>venu(e)(s)</td><td class="text-left">Elle est venu<span class="silent">e</span> hier.</td></tr>

                <tr><td colspan="4" class="group-divider">AUXILIAIRE: AVOIR</td></tr>
                <tr><td class="text-left">√™tre</td><td class="aux-label">avoir</td><td class="irregular-red">√©t√©</td><td class="text-left">J'ai √©t√© tr√®s surpris.</td></tr>
                <tr><td class="text-left">avoir</td><td class="aux-label">avoir</td><td class="irregular-red">eu</td><td class="text-left">Nous avons eu peur.</td></tr>
                <tr><td class="text-left">faire</td><td class="aux-label">avoir</td><td class="irregular-red">fait</td><td class="text-left">Qu'est-ce que tu as fait ?</td></tr>
                <tr><td class="text-left">dire</td><td class="aux-label">avoir</td><td class="irregular-red">dit</td><td class="text-left">Il a dit la v√©rit√©.</td></tr>
                <tr><td class="text-left">pouvoir</td><td class="aux-label">avoir</td><td class="irregular-red">pu</td><td class="text-left">On a pu finir √† l'heure.</td></tr>
                <tr><td class="text-left">vouloir</td><td class="aux-label">avoir</td><td class="irregular-red">voulu</td><td class="text-left">Ils ont voulu partir.</td></tr>
                <tr><td class="text-left">devoir</td><td class="aux-label">avoir</td><td class="irregular-red">d√ª</td><td class="text-left">J'ai d√ª travailler tard.</td></tr>
                <tr><td class="text-left">prendre</td><td class="aux-label">avoir</td><td class="irregular-red">pris</td><td class="text-left">Vous avez pris le train.</td></tr>
                <tr><td class="text-left">mettre</td><td class="aux-label">avoir</td><td class="irregular-red">mis</td><td class="text-left">Elle a mis son manteau.</td></tr>
                <tr><td class="text-left">voir</td><td class="aux-label">avoir</td><td class="irregular-red">vu</td><td class="text-left">J'ai vu ce film d√©j√†.</td></tr>
                <tr><td class="text-left">savoir</td><td class="aux-label">avoir</td><td class="irregular-red">su</td><td class="text-left">Elle a su la r√©ponse.</td></tr>
                <tr><td class="text-left">croire</td><td class="aux-label">avoir</td><td class="irregular-red">cru</td><td class="text-left">Je n'ai pas cru l'histoire.</td></tr>
                <tr><td class="text-left">donner</td><td class="aux-label">avoir</td><td>donn√©</td><td class="text-left">Il a donn√© son avis.</td></tr>
            </tbody>
        </table>
    </div>
</div>

<script>
// Optimized Pronunciation Engine
document.querySelectorAll('td').forEach(cell => {
    cell.addEventListener('click', () => {
        // 1. Get the text and clean it for the TTS engine
        // This removes (e)(s), slashes, and extra spaces that confuse the audio
        let cleanText = cell.innerText
            .replace(/\(e\)\(s\)/g, "") 
            .replace(/\//g, " ")
            .replace(/üîä/g, "")
            .trim();

        if (cleanText.length > 0 && !cleanText.includes('AUXILIAIRE')) {
            const msg = new SpeechSynthesisUtterance();
            
            // 2. Set the text
            msg.text = cleanText;
            
            // 3. Force French Language
            msg.lang = 'fr-FR';
            
            // 4. Find and set a high-quality French voice if available
            const voices = window.speechSynthesis.getVoices();
            const frVoice = voices.find(v => v.lang.startsWith('fr'));
            if (frVoice) msg.voice = frVoice;

            // 5. Adjust speed for B1 clarity
            msg.rate = 0.8; 

            // 6. Stop any current speech before starting new one
            window.speechSynthesis.cancel();
            window.speechSynthesis.speak(msg);
        }
    });
});

// Pre-load voices (Fixes a common bug in Chrome/Edge)
window.speechSynthesis.getVoices();
</script>

</body>
</html>