<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>French Conjugation - Fixed Headers</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<div id="common-header"></div>

<div class="page">

    <div class="table-wrap">
        <table>
            <caption>I. Pr√©sent de l'Indicatif</caption>
            <thead>
                <tr>
                    <th>Verbe</th><th>je / j'</th><th>tu</th><th>il / elle</th><th>nous</th><th>vous</th><th>ils / elles</th>
                </tr>
            </thead>
            <tbody>
                <tr><td class="text-left">√™tre</td><td>suis</td><td><span class="highlight">e<span class="silent">s</span></span></td><td><span class="highlight">e<span class="silent">st</span></span></td><td>sommes</td><td>√™tes</td><td><span class="highlight">son<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">avoir</td><td><span class="highlight">ai</span></td><td><span class="highlight">a<span class="silent">s</span></span></td><td><span class="highlight">a</span></td><td>avons</td><td>avez</td><td><span class="highlight">on<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">aller</td><td><span class="highlight">vai<span class="silent">s</span></span></td><td><span class="highlight">va<span class="silent">s</span></span></td><td><span class="highlight">va</span></td><td>allons</td><td>allez</td><td><span class="highlight">von<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">faire</td><td>fai<span class="silent">s</span></td><td>fai<span class="silent">s</span></td><td>fai<span class="silent">t</span></td><td>faisons</td><td><span class="highlight">faites</span></td><td><span class="highlight">fon<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">dire</td><td>di<span class="silent">s</span></td><td>di<span class="silent">s</span></td><td>di<span class="silent">t</span></td><td>disons</td><td><span class="highlight">dites</span></td><td>disen<span class="silent">t</span></td></tr>
                <tr><td class="text-left">pouvoir</td><td><span class="highlight">peu<span class="silent">x</span></span></td><td><span class="highlight">peu<span class="silent">x</span></span></td><td><span class="highlight">peu<span class="silent">t</span></span></td><td>pouvons</td><td>pouvez</td><td><span class="highlight">peuven<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">vouloir</td><td><span class="highlight">veu<span class="silent">x</span></span></td><td><span class="highlight">veu<span class="silent">x</span></span></td><td><span class="highlight">veu<span class="silent">t</span></span></td><td>voulons</td><td>voulez</td><td><span class="highlight">veulen<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">devoir</td><td><span class="highlight">doi<span class="silent">s</span></span></td><td><span class="highlight">doi<span class="silent">s</span></span></td><td><span class="highlight">doi<span class="silent">t</span></span></td><td>devons</td><td>devez</td><td><span class="highlight">doiven<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">prendre</td><td>pren<span class="silent">ds</span></td><td>pren<span class="silent">ds</span></td><td>pren<span class="silent">d</span></td><td>prenons</td><td>prenez</td><td><span class="highlight">prennen<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">venir</td><td><span class="highlight">vien<span class="silent">s</span></span></td><td><span class="highlight">vien<span class="silent">s</span></span></td><td><span class="highlight">vien<span class="silent">t</span></span></td><td>venons</td><td>venez</td><td><span class="highlight">viennent</span></td></tr>
                <tr><td class="text-left">mettre</td><td>met<span class="silent">s</span></td><td>met<span class="silent">s</span></td><td>met</td><td>mettons</td><td>mettez</td><td>metten<span class="silent">t</span></td></tr>
                <tr><td class="text-left">voir</td><td>voi<span class="silent">s</span></td><td>voi<span class="silent">s</span></td><td>voi<span class="silent">t</span></td><td>voyons</td><td>voyez</td><td><span class="highlight">voien<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">savoir</td><td>sai<span class="silent">s</span></td><td>sai<span class="silent">s</span></td><td>sai<span class="silent">t</span></td><td>savons</td><td>savez</td><td>saven<span class="silent">t</span></td></tr>
                <tr><td class="text-left">croire</td><td>croi<span class="silent">s</span></td><td>croi<span class="silent">s</span></td><td>croi<span class="silent">t</span></td><td>croyons</td><td>croyez</td><td><span class="highlight">croien<span class="silent">t</span></span></td></tr>
                <tr><td class="text-left">donner</td><td>donn<span class="silent">e</span></td><td>donn<span class="silent">es</span></td><td>donn<span class="silent">e</span></td><td>donnons</td><td>donnez</td><td>donn<span class="silent">ent</span></td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-wrap">
        <table>
             <caption>II. Pass√© Compos√© (Subject + Aux + Participle)</caption>
            <thead>
                <tr>
                    <th>Infinitif</th>
                    <th>Auxiliaire</th>
                    <th>Participe Pass√©</th>
                    <th>Example Sentence</th>
                </tr>
            </thead>
            <tbody>
                <tr><td colspan="4" class="group-divider">AUXILIAIRE: √äTRE (Agreement Required: +e, +s)</td></tr>
                <tr><td class="text-left">aller</td><td class="aux-label">√™tre</td><td>all√©(e)(s)</td><td class="text-left">Je suis all√© au cin√©.</td></tr>
                <tr><td class="text-left">venir</td><td class="aux-label">√™tre</td><td>venu(e)(s)</td><td class="text-left">Elle est venu<span class="silent">e</span> hier.</td></tr>

                <tr><td colspan="4" class="group-divider">AUXILIAIRE: AVOIR</td></tr>
                <tr><td class="text-left">√™tre</td><td class="aux-label">avoir</td><td class="irregular-red">√©t√©</td><td class="text-left">J'ai √©t√© tr√®s surpris.</td></tr>
                <tr><td class="text-left">avoir</td><td class="aux-label">avoir</td><td class="irregular-red">eu</td><td class="text-left">Nous avons eu peur.</td></tr>
                <tr><td class="text-left">faire</td><td class="aux-label">avoir</td><td class="irregular-red">fait</td><td class="text-left">Qu'est-ce que tu as fait ?</td></tr>
                <tr><td class="text-left">dire</td><td class="aux-label">avoir</td><td class="irregular-red">dit</td><td class="text-left">Il a dit la v√©rit√©.</td></tr>
                <tr><td class="text-left">pouvoir</td><td class="aux-label">avoir</td><td class="irregular-red">pu</td><td class="text-left">On a pu finir √† l'heure.</td></tr>
                <tr><td class="text-left">vouloir</td><td class="aux-label">avoir</td><td class="irregular-red">voulu</td><td class="text-left">Ils ont voulu partir.</td></tr>
                <tr><td class="text-left">devoir</td><td class="aux-label">avoir</td><td class="irregular-red">d√ª</td><td class="text-left">J'ai d√ª travailler tard.</td></tr>
                <tr><td class="text-left">prendre</td><td class="aux-label">avoir</td><td class="irregular-red">pris</td><td class="text-left">Vous avez pris le train.</td></tr>
                <tr><td class="text-left">mettre</td><td class="aux-label">avoir</td><td class="irregular-red">mis</td><td class="text-left">Elle a mis son manteau.</td></tr>
                <tr><td class="text-left">voir</td><td class="aux-label">avoir</td><td class="irregular-red">vu</td><td class="text-left">J'ai vu ce film d√©j√†.</td></tr>
                <tr><td class="text-left">savoir</td><td class="aux-label">avoir</td><td class="irregular-red">su</td><td class="text-left">Elle a su la r√©ponse.</td></tr>
                <tr><td class="text-left">croire</td><td class="aux-label">avoir</td><td class="irregular-red">cru</td><td class="text-left">Je n'ai pas cru l'histoire.</td></tr>
                <tr><td class="text-left">donner</td><td class="aux-label">avoir</td><td>donn√©</td><td class="text-left">Il a donn√© son avis.</td></tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Fallback: attach TTS handlers when modules can't load (file://) -->
<script>
    (function(){
        if (window.__mvc_loaded) return; // module already initialized

        function cleanTextForTTS(text){
            if(!text) return '';
            return text.replace(/\(e\)\(s\)/g,'')
                                 .replace(/\(e\)/g,'')
                                 .replace(/\(s\)/g,'')
                                 .replace(/\//g,' ')
                                 .replace(/üîä/g,'')
                                 .replace(/\s+/g,' ').trim();
        }

        function speak(text, lang){
            if(!text) return;
            try{
                window.speechSynthesis.cancel();
                const u = new SpeechSynthesisUtterance(text);
                u.lang = lang || 'fr-FR';
                u.rate = 0.85;
                const v = window.speechSynthesis.getVoices().find(x=>x.lang && x.lang.startsWith((u.lang||'fr').split('-')[0]));
                if(v) u.voice = v;
                window.speechSynthesis.speak(u);
            }catch(e){console.warn('TTS fallback error',e)}
        }

        const cells = Array.from(document.querySelectorAll('td'));
        cells.forEach(cell=>{
            cell.addEventListener('click',()=>{
                const text = cleanTextForTTS(cell.innerText||'');
                if(!text) return;
                if(cell.classList.contains('group-divider') || /AUXILIAIRE/i.test(cell.innerText)) return;
                speak(text,'fr-FR');
            });
        });

        // trigger voice load in browsers that populate voices asynchronously
        window.speechSynthesis.getVoices();
    })();
</script>

<div id="common-footer"></div>

<script type="module" src="js/app.js"></script>

</body>
</html>
